{{navbar_enabled=True}}
{{extend 'layout.html'}}

<div class="page-header">
  <h1>App Results</h1>
</div>

<p class="text-error lead">{{=err_msg}}</p>
<p class="text-warning lead">{{=message}}</p>

<!--{{=TABLE(*[TR(*rows) for rows in app_ssns])}}-->
<table class="table table-bordered table-hover">

{{=TR(TH('AppResult'), TH('Project'), TH('Date Created'), TH('Status'), TH('Notes'))}}

{{for i in app_ssns:}}

<!-- set row color based on status -->
{{cls = 'warning'}}
{{if i['status'] == 'complete': cls='success'}}
{{if i['status'] == 'error': cls='error'}}

{{=TR(TD(A(i['app_result_name'],_href=URL('view_alignment_metrics', vars={'app_session_id': i['app_session_id']} ))), TD(i['project_name']), TD(i['date_created']), TD(i['status']), TD(i['notes']), _class=cls)
}}

{{pass}}
</table>
